<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Color Prediction Game</title>
    <style>
        body{
            font-family: Arial;
            background:#f4f4f4;
            padding:20px;
            text-align:center;
        }
        .btn{
            padding:10px 20px;
            margin:5px;
            border:none;
            background:#333;
            color:#fff;
            cursor:pointer;
            border-radius:5px;
        }
        .btn:hover{
            opacity:0.8;
        }
        .color-box{
            width:70px;height:70px;border-radius:10px;margin:10px;display:inline-block;
        }
        #green{background:#00b400;}
        #red{background:#d40000;}
        #violet{background:#6f00ff;}
        .admin-panel{
            margin-top:25px;
            padding:15px;
            background:white;
            border-radius:10px;
        }
    </style>
</head>
<body>

<h2>Color Prediction Game</h2>

<h3>Your Coins: <span id="coins">0</span></h3>

<h3>Select Bet Amount</h3>
<button class="btn bet" data-value="10">10</button>
<button class="btn bet" data-value="20">20</button>
<button class="btn bet" data-value="50">50</button>
<button class="btn bet" data-value="500">500</button>

<p>Selected Bet: <span id="selectedBet">0</span></p>

<h3>Select Color</h3>
<div class="color-box" id="green" onclick="placeBet('green')"></div>
<div class="color-box" id="red" onclick="placeBet('red')"></div>
<div class="color-box" id="violet" onclick="placeBet('violet')"></div>

<h3>Result: <span id="result">---</span></h3>

<!-- ADMIN CONTROL -->
<div class="admin-panel">
    <h2>Admin Panel</h2>

    <label>Set Result:</label>
    <select id="adminSet">
        <option value="random">Random</option>
        <option value="green">Green</option>
        <option value="red">Red</option>
        <option value="violet">Violet</option>
    </select>

    <br><br>

    <label>Use Admin Result:</label>
    <input type="checkbox" id="adminControl">

</div>

<script>
    // ---------------------------
    // INITIAL COIN SETUP
    // ---------------------------
    let coins = localStorage.getItem("coins") ? parseInt(localStorage.getItem("coins")) : 1000;
    document.getElementById("coins").innerText = coins;

    let selectedBet = 0;
    document.querySelectorAll(".bet").forEach(btn => {
        btn.addEventListener("click", () => {
            selectedBet = parseInt(btn.getAttribute("data-value"));
            document.getElementById("selectedBet").innerText = selectedBet;
        });
    });

    // ---------------------------
    // PLACE BET FUNCTION
    // ---------------------------
    function placeBet(color) {
        if (selectedBet === 0) {
            alert("Please select a bet amount!");
            return;
        }

        if (coins < selectedBet) {
            alert("Not enough coins!");
            return;
        }

        let result = getResultFromAdminOrRandom();

        document.getElementById("result").innerText = result.toUpperCase();

        if (color === result) {
            coins += selectedBet;   // WIN
        } else {
            coins -= selectedBet;   // LOSE
        }

        updateCoins();
    }

    // ---------------------------
    // RESULT GENERATOR
    // ---------------------------
    function getResultFromAdminOrRandom() {
        let adminControl = document.getElementById("adminControl").checked;
        let adminSet = document.getElementById("adminSet").value;

        if (adminControl && adminSet !== "random") {
            return adminSet; // admin forced result
        }

        let colors = ["green", "red", "violet"];
        return colors[Math.floor(Math.random() * colors.length)];
    }

    // ---------------------------
    // SAVE COINS
    // ---------------------------
    function updateCoins() {
        localStorage.setItem("coins", coins);
        document.getElementById("coins").innerText = coins;
    }
</script>

</body>
  </html>
