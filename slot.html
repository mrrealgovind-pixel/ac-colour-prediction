<!DOCTYPE html>  <html>  
<head>  
<title>Slot Machine - JILI Style</title>  
<meta name="viewport" content="width=device-width, initial-scale=1">  <!-- Firebase -->  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>  <style>  
body {  
    margin: 0;  
    background: radial-gradient(circle,#000,#111,#000);  
    font-family: Arial;  
    color: white;  
    text-align: center;  
}  
  
h2 {  
    margin-top: 20px;  
    color: gold;  
    text-shadow: 0 0 10px gold;  
    font-size: 30px;  
    letter-spacing: 2px;  
}  
  
#coins, #bet {  
    font-size: 22px;  
    margin-top: 15px;  
    font-weight: bold;  
    color: #00ff9d;  
}  
  
.bet-btns button {  
    width: 75px;  
    padding: 8px;  
    margin: 5px;  
    border-radius: 8px;  
    border: 1px solid gold;  
    background: #222;  
    color: gold;  
    font-weight: bold;  
}  
  
.slot-box {  
    width: 92%;  
    margin: auto;  
    background: linear-gradient(145deg,#1b1b1b,#0a0a0a);  
    padding: 20px;  
    border-radius: 20px;  
    border: 3px solid gold;  
    box-shadow: 0 0 25px rgba(255,215,0,0.4);  
    margin-top: 20px;  
}  
  
.reels {  
    display: flex;  
    justify-content: space-around;  
}  
  
.reel {  
    width: 90px;  
    height: 90px;  
    background: black;  
    border: 3px solid gold;  
    border-radius: 12px;  
    font-size: 50px;  
    display: flex;  
    justify-content: center;  
    align-items: center;  
    transition: transform 0.1s;  
}  
  
.spin-anim {  
    animation: spin 0.15s linear infinite;  
}  
  
@keyframes spin {  
    0% { filter: blur(2px); transform: rotate(5deg); }  
    50% { filter: blur(3px); transform: rotate(-5deg); }  
    100% { filter: blur(2px); transform: rotate(5deg); }  
}  
  
.win-glow {  
    animation: glow 1s infinite alternate;  
}  
  
@keyframes glow {  
    from { box-shadow: 0 0 10px gold; }  
    to { box-shadow: 0 0 25px yellow; }  
}  
  
button.spin-btn {  
    width: 180px;  
    padding: 15px;  
    margin-top: 25px;  
    background: linear-gradient(135deg,#ffd700,#ffae00);  
    border: none;  
    border-radius: 15px;  
    font-size: 22px;  
    font-weight: bold;  
    color: black;  
    box-shadow: 0 0 20px gold;  
}  
  
#result {  
    font-size: 26px;  
    margin-top: 15px;  
    font-weight: bold;  
}  
</style>  </head>  <body>  <h2>üé∞ JILI SLOT MACHINE</h2>  <div id="coins">Coins: 0</div>  
<div id="bet">Bet: 10</div>  <div class="bet-btns">  
    <button onclick="setBet(10)">10</button>  
    <button onclick="setBet(20)">20</button>  
    <button onclick="setBet(50)">50</button>  
    <button onclick="setBet(100)">100</button>  
</div>  <div class="slot-box">  
    <div class="reels">  
        <div id="r1" class="reel">üçí</div>  
        <div id="r2" class="reel">üçã</div>  
        <div id="r3" class="reel">‚≠ê</div>  
    </div>  <button class="spin-btn" onclick="spin()">SPIN</button>

</div>  <p id="result"></p>  <!-- Sounds -->  <audio id="winSound" src="win.mp3"></audio>
<audio id="loseSound" src="lose.mp3"></audio>
<audio id="spinSound" src="spin.mp3"></audio>

<script>  
/* -------------------- FIREBASE CONFIG -------------------- */  
const firebaseConfig = {  
  apiKey: "AIzaSyAPFM1XnrX1A4cwQPCAkZ4sTMmnwORjx0A",  
  authDomain: "ac-colour-prediction.firebaseapp.com",  
  projectId: "ac-colour-prediction",  
  storageBucket: "ac-colour-prediction.appspot.com",  
};  
firebase.initializeApp(firebaseConfig);  
  
const auth = firebase.auth();  
const db = firebase.firestore();  
  
let coins = 0;  
let bet = 10;  
let uid = null;  
  
auth.onAuthStateChanged(async (user) => {  
    if (!user) { location.href = "index.html"; return; }  
    uid = user.uid;  
    const snap = await db.collection("users").doc(uid).get();  
    if (snap.exists) {  
        coins = snap.data().coins || 0;  
        document.getElementById("coins").innerHTML = "Coins: " + coins;  
    }  
});  
  
function setBet(amount) {  
    bet = amount;  
    document.getElementById("bet").innerHTML = "Bet: " + bet;  
}  
  
function updateCoins() {  
    db.collection("users").doc(uid).update({ coins: coins });  
    document.getElementById("coins").innerHTML = "Coins: " + coins;  
}  
  
async function spin() {  
  
    if (coins < bet) {  
        alert("Not enough coins!");  
        return;  
    }  
  
    coins -= bet;  
    updateCoins();  
  
    const r1 = document.getElementById("r1");  
    const r2 = document.getElementById("r2");  
    const r3 = document.getElementById("r3");  
  
    r1.classList.add("spin-anim");  
    r2.classList.add("spin-anim");  
    r3.classList.add("spin-anim");  
  
    document.getElementById("spinSound").play();  
  
    if (navigator.vibrate) navigator.vibrate(100);  
  
    const symbols = ["üçí", "üçã", "‚≠ê", "üîî", "üçâ", "7Ô∏è‚É£"];  
  
    setTimeout(() => {  
        let s1 = symbols[Math.floor(Math.random() * symbols.length)];  
        let s2 = symbols[Math.floor(Math.random() * symbols.length)];  
        let s3 = symbols[Math.floor(Math.random() * symbols.length)];  
  
        r1.classList.remove("spin-anim");  
        r2.classList.remove("spin-anim");  
        r3.classList.remove("spin-anim");  
  
        r1.innerHTML = s1;  
        r2.innerHTML = s2;  
        r3.innerHTML = s3;  
  
        let win = 0;  
        let message = "";  
  
        r1.classList.remove("win-glow");  
        r2.classList.remove("win-glow");  
        r3.classList.remove("win-glow");  
  
        if (s1 === s2 && s2 === s3) {  
            win = bet * 10;  
            message = "üî• JACKPOT! +" + win;  
            r1.classList.add("win-glow");  
            r2.add("win-glow");  
            r3.add("win-glow");  
            winSound.play();  
            if (navigator.vibrate) navigator.vibrate([200,100,200]);  
        }  
        else if (s1 === s2 || s2 === s3 || s1 === s3) {  
            win = bet * 3;  
            message = "‚ú® Win +" + win;  
            winSound.play();  
            if (navigator.vibrate) navigator.vibrate(150);  
        }  
        else {  
            message = "‚ùå Try Again!";  
            loseSound.play();  
        }  
  
        coins += win;  
        updateCoins();  
  
        document.getElementById("result").innerHTML = message;  
  
        db.collection("transactions").add({  
            uid: uid,  
            game: "slot",  
            bet: bet,  
            win: win,  
            r1: s1, r2: s2, r3: s3,  
            time: new Date()  
        });  
  
    }, 1400);  
}  
</script>  </body>  
</html>  
